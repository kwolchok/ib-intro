<h1 data-number="1" id="цель-работы"><span
class="header-section-number">1</span> Цель работы</h1>
<p>Получение практических навыков работы в консоли с атрибутами файлов,
закрепление теоретических основ дискреционного разграничения доступа в
современных системах с открытым кодом на базе ОС Linux.</p>
<h1 data-number="2" id="теоретическое-введение"><span
class="header-section-number">2</span> Теоретическое введение</h1>
<p>В операционной системе Linux есть много отличных функций
безопасности, но одна из самых важных — это система прав доступа к
файлам. Изначально каждый файл имел три параметра доступа. Вот они:</p>
<ul>
<li><strong>Чтение</strong> — разрешает получать содержимое файла, но на
запись нет. Для каталога позволяет получить список файлов и каталогов,
расположенных в нём.</li>
<li><strong>Запись</strong> — разрешает записывать новые данные в файл
или изменять существующие, а также позволяет создавать и изменять файлы
и каталоги.</li>
<li><strong>Выполнение</strong> — невозможно выполнить программу, если у
неё нет флага выполнения. Этот атрибут устанавливается для всех программ
и скриптов, именно с помощью него система может понять, что этот файл
нужно запускать как программу.</li>
</ul>
<p>Каждый файл имеет три категории пользователей, для которых можно
устанавливать различные сочетания прав доступа:</p>
<ul>
<li><strong>Владелец</strong> — набор прав для владельца файла,
пользователя, который его создал или сейчас установлен его владельцем.
Обычно владелец имеет все права: чтение, запись и выполнение.</li>
<li><strong>Группа</strong> — любая группа пользователей, существующая в
системе и привязанная к файлу. Но это может быть только одна группа, и
обычно это группа владельца, хотя для файла можно назначить и другую
группу.</li>
<li><strong>Остальные</strong> — все пользователи, кроме владельца и
пользователей, входящих в группу файла.</li>
</ul>
<p>Команды, которые могут понадобиться при работе с правами доступа:</p>
<ul>
<li><code>ls -l</code> — для просмотра прав доступа к файлам и
каталогам.</li>
<li><code>chmod категория действие флаг файл или каталог</code> — для
изменения прав доступа к файлам и каталогам (категорию, действие и флаг
можно заменить на набор из трёх цифр от 0 до 7).</li>
</ul>
<p>Значения флагов прав:</p>
<ul>
<li><code>---</code> — нет никаких прав.</li>
<li><code>–x</code> — разрешено только выполнение файла, как программы,
но не изменение и не чтение.</li>
<li><code>-w-</code> — разрешена только запись и изменение файла.</li>
<li><code>-wx</code> — разрешено изменение и выполнение, но в случае с
каталогом невозможно посмотреть его содержимое.</li>
<li><code>r–</code> — права только на чтение.</li>
<li><code>r-x</code> — только чтение и выполнение, без права на
запись.</li>
<li><code>rw-</code> — права на чтение и запись, но без выполнения.</li>
<li><code>rwx</code> — все права.</li>
</ul>
<h1 data-number="3" id="выполнение-лабораторной-работы"><span
class="header-section-number">3</span> Выполнение лабораторной
работы</h1>
<p>В установленной при выполнении предыдущей лабораторной работы ОС
создала учётную запись пользователя guest с помощью команды
<code>sudo useradd guest</code> и задала пароль для этого пользователя
командой <code>sudo passwd guest</code> (рис. 1).</p>
<figure id="fig:001">
<img src="image/1.jpg" style="width:70.0%"
alt="Рис. 1: Создание пользователя" />
<figcaption aria-hidden="true">Рис. 1: Создание
пользователя</figcaption>
</figure>
<p>Вошла в систему от имени пользователя guest (рис. 2), (рис. 3).</p>
<figure id="fig:002">
<img src="image/1.jpg" style="width:70.0%"
alt="Рис. 2: Вход в систему" />
<figcaption aria-hidden="true">Рис. 2: Вход в систему</figcaption>
</figure>
<figure id="fig:003">
<img src="image/2.jpg" style="width:70.0%"
alt="Рис. 3: Вход в систему" />
<figcaption aria-hidden="true">Рис. 3: Вход в систему</figcaption>
</figure>
<p>Командой <code>pwd</code> определила, что нахожусь в директории
<code>/home/guest</code>, которая является моей домашней директорией
(рис. 4). С приглашением командной строки совпадает.</p>
<p>Уточнила имя моего пользователя командой <code>whoami</code> и
получила вывод: guest (рис. 4).</p>
<p>С помощью команды <code>id</code> определила имя своего пользователя
— всё так же guest, uid = 1001 (guest), gid = 1001 (guest). Затем
сравнила полученную информацию с выводом команды <code>groups</code>,
которая вывела “guest”. Мой пользователь входит только в одну группу,
состоящую из него самого, поэтому вывод обеих команд <code>id</code> и
<code>groups</code> совпадает (рис. 4). Данные, выводимые в приглашении
командной строки, совпадают с полученной информацией.</p>
<p>Затем просмотрела файл <code>/etc/passwd</code> командой
<code>cat /etc/passwd</code> (рис. 4).</p>
<figure id="fig:004">
<img src="image/3.jpg" style="width:70.0%"
alt="Рис. 4: Команды pwd, whoami, id, groups, cat" />
<figcaption aria-hidden="true">Рис. 4: Команды pwd, whoami, id, groups,
cat</figcaption>
</figure>
<p>Нашла в нём свою учётную запись в самом конце (рис. 5). Uid = 1001,
gid = 1001, то есть они совпадают с тем, что мы получили ранее.</p>
<figure id="fig:005">
<img src="image/3.jpg" style="width:70.0%"
alt="Рис. 5: Содержание файла /etc/passwd" />
<figcaption aria-hidden="true">Рис. 5: Содержание файла
/etc/passwd</figcaption>
</figure>
<p>Посмотрела, какие директории существуют в системе командой
<code>ls -l /home/</code> (рис. 6). Список поддиректорий директории
<code>/home</code> получить удалось. На директориях установлены права
чтения, записи и выполнения для самого пользователя (для группы и
остальных пользователей никаких прав доступа не установлено).</p>
<p>Проверила, какие расширенные атрибуты установлены на поддиректориях,
находящихся в директории <code>/home</code>, командой
<code>lsattr /home</code> (рис. 6). Удалось увидеть расширенные атрибуты
только директории того пользователя, от имени которого я нахожусь в
системе.</p>
<p>Создала в домашней директории поддиректорию <code>dir1</code>
командой <code>mkdir dir1</code> и определила, какие права доступа и
расширенные атрибуты были на неё выставлены: чтение, запись и выполнение
доступны для самого пользователя и для группы, для остальных — только
чтение и выполнение, расширенных атрибутов не установлено (рис. 6).</p>
<figure id="fig:006">
<img src="image/4.jpg" style="width:70.0%"
alt="Рис. 6: Права доступа и расширенные атрибуты" />
<figcaption aria-hidden="true">Рис. 6: Права доступа и расширенные
атрибуты</figcaption>
</figure>
<p>Сняла с директории <code>dir1</code> все атрибуты командой
<code>chmod 000 dir1</code> и проверила с её помощью правильность
выполнения команды <code>ls -l</code>. Действительно, все атрибуты были
сняты (рис. 7).</p>
<p>Попыталась создать в директории <code>dir1</code> файл
<code>file1</code> командой
<code>echo "test" &gt; /home/guest/dir1/file1</code> (рис. 7). Этого
сделать не получилось, так как предыдущим действием мы убрали право
доступа на запись в директории. В итоге файл не был создан (открыть
директорию с помощью команды <code>ls -l /home/guest/dir1</code>
изначально тоже не удалось по той же причине, поэтому я поменяла права
доступа и снова воспользовалась этой командой, и тогда смогла
просмотреть содержимое директории, убедившись, что файл не был
создан).</p>
<figure id="fig:007">
<img src="image/5.jpg" style="width:70.0%"
alt="Рис. 7: Попытка создать файл в директории" />
<figcaption aria-hidden="true">Рис. 7: Попытка создать файл в
директории</figcaption>
</figure>
<p>Заполним таблицу «Установленные права и разрешённые действия» 001: -
Создание файла: <code>echo "text" &gt; /home/guest/dir1/file2</code> -
Удаление файла: <code>rm -r /home/guest/dir1/file1</code> - Запись в
файл: <code>echo "textnew" &gt; /home/guest/dir1/file1</code> - Чтение
файла: <code>cat /home/guest/dir1/file1</code> - Смена директории:
<code>cd dir1</code> - Просмотр файлов в директории:
<code>ls dir1</code> - Переименование файла:
<code>mv /home/guest/dir1/file1 filenew</code> - Смена атрибутов файла:
<code>chattr -a /home/guest/dir1/file1</code></p>
<p>Таблица : Установленные права и разрешённые действия</p>
<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 6%" />
<col style="width: 8%" />
<col style="width: 8%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 9%" />
<col style="width: 15%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<thead>
<tr>
<th>Права директории</th>
<th>Права файла</th>
<th>Создание файла</th>
<th>Удаление файла</th>
<th>Запись в файл</th>
<th>Чтение файла</th>
<th>Смена директории</th>
<th>Просмотр файлов в директории</th>
<th>Переименование файла</th>
<th>Смена атрибутов файла</th>
</tr>
</thead>
<tbody>
<tr>
<td>d (000)</td>
<td>(000)</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>d –x (100)</td>
<td>(000)</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>+</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>d -w- (200)</td>
<td>(000)</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>d -wx (300)</td>
<td>(000)</td>
<td>+</td>
<td>+</td>
<td>-</td>
<td>-</td>
<td>+</td>
<td>-</td>
<td>+</td>
<td>-</td>
</tr>
<tr>
<td>d r– (400)</td>
<td>(000)</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>+</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>d r-x (500)</td>
<td>(000)</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>+</td>
<td>+</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>d rw- (600)</td>
<td>(000)</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>+</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>d rwx (700)</td>
<td>(000)</td>
<td>+</td>
<td>+</td>
<td>-</td>
<td>-</td>
<td>+</td>
<td>+</td>
<td>+</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>Таблица : Минимально необходимые права для выполнения операций внутри
директории</p>
<table>
<colgroup>
<col style="width: 30%" />
<col style="width: 37%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr>
<th>Операция</th>
<th>Минимальные права на директорию</th>
<th>Минимальные права на файл</th>
</tr>
</thead>
<tbody>
<tr>
<td>Создание файла</td>
<td>d -wx (300)</td>
<td>(000)</td>
</tr>
<tr>
<td>Удаление файла</td>
<td>d -wx (300)</td>
<td>(000)</td>
</tr>
<tr>
<td>Чтение файла</td>
<td>d –x (100)</td>
<td>(400)</td>
</tr>
<tr>
<td>Запись в файл</td>
<td>d –x (100)</td>
<td>(200)</td>
</tr>
<tr>
<td>Переименование файла</td>
<td>d -wx (300)</td>
<td>(000)</td>
</tr>
<tr>
<td>Создание поддиректории</td>
<td>d -wx (300)</td>
<td>(000)</td>
</tr>
<tr>
<td>Удаление поддиректории</td>
<td>d -wx (300)</td>
<td>(000)</td>
</tr>
</tbody>
</table>
<h1 data-number="4" id="выводы"><span
class="header-section-number">4</span> Выводы</h1>
<p>В ходе выполнения данной лабораторной работы я приобрела практические
навыки работы в консоли с атрибутами файлов, закрепила теоретические
основы дискреционного разграничения доступа в современных системах с
открытым кодом на базе ОС Linux.</p>
<h1 data-number="5" id="список-литературы"><span
class="header-section-number">5</span> Список литературы</h1>
<ol type="1">
<li>Права доступа к файлам в Linux [Электронный ресурс]. 2019. URL:
https: //losst.ru/prava-dostupa-k-fajlam-v-linux.</li>
</ol>
